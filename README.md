### OrgFromEgrul - сервис для парсинга и хранения данных из ЕГРЮЛ
___________________
Данный сервис выкачивает сведения обо всех организациях из базы ЕГРЮЛ (единый госриестр юридических лиц), структурирует их и сохраняет в свою базу. Кроме того, сервис поддерживает актуальность собственной базы путём ежедневного автоматического обновления. 
***
##### Для работы сервиса необходимо
- Интерпретатор `Python`
- База данных `PostgeSQL`
- Брокер для Celery - `Redis`
- Установленный менеджер пакетов для python - `pipenv`
***
##### Настройка сервиса
Перед запуском следует произвести некоторые настройки, а именно:
- настройка базы данных в файле `settings.py`
```pydocstring
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'admin',  # название используемой базы
        'USER': 'admin',  # имя пользователя БД
        'PASSWORD': 'qwerty',  # пароль пользователя БД
        'HOST': '127.0.0.1',  # ip-адрес БД
        'PORT': '5432',  #  порт БД (изменяется при необходимости)
    }
}
```
- настройка Celery в файле `celery.py`
```pydocstring
app.conf.update(
    broker_url='redis://127.0.0.1:6379/0',  # ip-адрес и порт брокера (в нашем случае это Redis)
    result_backend='redis://127.0.0.1:6379/0',  # такой же, как и у брокера
    task_track_started=True,
    timezone='Europe/Moscow',
    worker_disable_rate_limits=True,
)
```
***
##### Запуск сервиса
```pydocstring
# перейдите в каталог приложения
# установите пакеты и зависимости 
pipenv install

# перед запуском убедитесь, что Redis работает 
# запустите Celery
celery -A OrgFromEgrul worker -l info 

# запустите команду обновления всей базы
python manage.py update_base
```
```pydocstring
# запуск команды ежедневного обновлений 
python manage.py daily_update_base
```
